---
phase: 04-shopping-list-core
plan: 06
type: execute
wave: 4
depends_on: ["04-05"]
files_modified: []
autonomous: false

must_haves:
  truths:
    - "User can generate shopping list from meal plan (SHOP-01)"
    - "Ingredients are consolidated with combined quantities (SHOP-02)"
    - "Items are grouped by category (SHOP-03)"
    - "User can add manual items (SHOP-04)"
    - "User can edit item quantity and name (SHOP-05)"
    - "User can check off items while shopping (SHOP-06)"
    - "User can uncheck items (SHOP-07)"
    - "User can delete items (SHOP-08)"
    - "Checked items appear grayed at bottom (SHOP-09)"
    - "Unchecked items stay at top (SHOP-10)"
  artifacts: []
  key_links: []
---

<objective>
Human verification of complete shopping list workflow.

Purpose: Validate that all SHOP-* requirements work correctly in the live application.
Output: Verified shopping list feature ready for daily use.
</objective>

<execution_context>
@/home/[USER]/.claude/get-shit-done/workflows/execute-plan.md
@/home/[USER]/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/REQUIREMENTS.md
</context>

<tasks>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>
Complete shopping list feature with:
- Generation from meal plan with ingredient consolidation
- Category-grouped display
- Check-off with undo snackbar
- Manual item addition
- Item editing and deletion
- Drag-drop reordering
- Navigation integration
  </what-built>
  <how-to-verify>
1. **Navigate to Shopping List**
   - Click "Shopping List" in navigation menu
   - Verify page loads (may be empty initially)

2. **Generate from Meal Plan** (SHOP-01)
   - Click menu button -> "Generate from Meal Plan"
   - Verify shopping list is created with items from current week's meal plan
   - If meal plan is empty, add a recipe to meal plan first

3. **Check Consolidation** (SHOP-02)
   - If same ingredient appears in multiple recipes, verify quantities are combined
   - Look for "From: Recipe1, Recipe2" caption showing source recipes
   - Verify unit conversion happened if applicable (e.g., cups + fl oz = cups)

4. **Verify Category Grouping** (SHOP-03)
   - Confirm items are grouped under category headers (Produce, Meat, Dairy, etc.)
   - Verify each category is collapsible (click header)

5. **Add Manual Item** (SHOP-04)
   - Click FAB (+ button) in bottom right
   - Type "Paper towels" - verify autocomplete suggestions appear
   - Select category "Pantry", leave quantity empty
   - Click Add
   - Verify item appears in Pantry section

6. **Edit Item** (SHOP-05)
   - Hover over an item to reveal edit button
   - Click edit icon
   - Change quantity and save
   - Verify changes persist

7. **Check Off Items** (SHOP-06)
   - Tap an item row (not just checkbox)
   - Verify item becomes checked with visual feedback (strikethrough, grayed)
   - Verify snackbar appears with "UNDO" button

8. **Uncheck Item** (SHOP-07)
   - Tap a checked item OR click UNDO in snackbar
   - Verify item becomes unchecked

9. **Delete Item** (SHOP-08)
   - Hover over item to reveal delete button
   - Click delete icon
   - Confirm deletion
   - Verify item is removed

10. **Checked Items Display** (SHOP-09, SHOP-10)
    - Check multiple items
    - Verify checked items appear grayed/strikethrough
    - Verify unchecked items remain at top of their category
    - (Note: checked items stay in place, just grayed - per CONTEXT.md decision)

11. **Drag-Drop Reorder** (optional)
    - Drag an unchecked item to reorder within category
    - Verify order persists after page refresh

12. **Clear Checked Items**
    - Check a few items
    - Click menu -> "Clear Checked Items"
    - Verify all checked items are removed
  </how-to-verify>
  <resume-signal>
Type "approved" if all verification steps pass.
If issues found, describe them and I will create fixes.
  </resume-signal>
</task>

</tasks>

<verification>
Human has verified all SHOP-* requirements work correctly.
</verification>

<success_criteria>
- All 10 SHOP-* requirements verified working
- Shopping list generates from meal plan
- Consolidation combines duplicate ingredients
- Category grouping matches store layout
- Manual items can be added
- Items can be edited and deleted
- Check-off works with undo
- Visual states correct for checked/unchecked
</success_criteria>

<output>
After completion, create `.planning/phases/04-shopping-list-core/04-06-SUMMARY.md`
</output>
